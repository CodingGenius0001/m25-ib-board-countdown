<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>M25 IB Board Exam Countdown</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background-color: #f0e6d6;
    }
    h1 {
      font-family: 'Courier New', Courier, monospace;
      font-size: 2.5em;
      color: #333;
      margin-bottom: 20px;
      text-align: center;
    }
    .timer {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .time-section {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .label, .schedule-btn, .current-exam h2 {
      font-family: 'Courier New', Courier, monospace;
      color: #333;
    }
    .label {
      margin-bottom: 5px;
    }
    .digits {
      display: flex;
      gap: 5px;
    }
    .box {
      font-family: 'Courier New', Courier, monospace;
      background: #fff;
      color: #333;
      padding: 15px 10px;
      border: 3px solid #333;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      font-size: 2em;
      text-align: center;
      min-width: 1em;
    }
    .separator {
      font-family: 'Courier New', Courier, monospace;
      font-size: 2em;
      color: #333;
    }
    .flip {
      animation: flip 0.6s ease;
    }
    @keyframes flip {
      0%   { transform: rotateX(0deg); }
      50%  { transform: rotateX(90deg); }
      100% { transform: rotateX(0deg); }
    }

    /* Current Examination styling */
    .current-exam {
      margin: 20px 0;
      text-align: center;
    }
    .current-exam h2 {
      font-family: 'Courier New', Courier, monospace;
      font-size: 1.6em;   /* reduced from 2em */
      margin-bottom: 10px;
    }
    .current-exam .box {
      display: inline-block;
      padding: 20px 40px;
      min-width: 250px;
      font-size: 1.4em;
      font-weight: 600;
      border: 4px solid #333;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
    .current-exam ul {
      list-style: disc inside;
      font-family: 'Courier New', Courier, monospace;
      color: #333;
      padding: 0;
      margin: 0;
      text-align: left;
      display: inline-block;
    }

    .schedule-btn {
      font-family: 'Courier New', Courier, monospace;
      font-size: 1em;
      color: #fff;
      background-color: #333;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      text-decoration: none;
      transition: background-color 0.3s ease;
    }
    .schedule-btn:hover {
      background-color: #555;
    }
  </style>
</head>
<body>
  <h1>Countdown to the end of M25 IB Board Examinations</h1>

  <div class="timer">
    <div class="time-section">
      <div class="label">DAYS</div>
      <div class="digits" id="days-digits"></div>
    </div>
    <span class="separator">:</span>
    <div class="time-section">
      <div class="label">HOURS</div>
      <div class="digits" id="hours-digits"></div>
    </div>
    <span class="separator">:</span>
    <div class="time-section">
      <div class="label">MINUTES</div>
      <div class="digits" id="minutes-digits"></div>
    </div>
    <span class="separator">:</span>
    <div class="time-section">
      <div class="label">SECONDS</div>
      <div class="digits" id="seconds-digits"></div>
    </div>
  </div>

  <div class="current-exam">
    <h2>Current Examination</h2>
    <div id="exam-name"></div>
  </div>

  <a href="https://www.ibo.org/globalassets/new-structure/programmes/dp/pdfs/may-2025-exam-schedule.pdf"
     class="schedule-btn" target="_blank">View M25 Schedule</a>

  <script>
    // countdown target: May 21, 2025 2:20 PM IST
    const countDownDate = new Date("May 21, 2025 14:20:00").getTime();

    // full May 2025 exam schedule
    const examSchedule = {
      "2025-04-25": ["School-based syllabus SL paper 1", "Language & culture SL paper 1"],
      "2025-04-28": [
        "School-based syllabus SL paper 2",
        "Language A Literature HL paper 1",
        "Language A Literature SL paper 1",
        "Language A Language & Literature HL paper 1",
        "Language A Language & Literature SL paper 1",
        "Language & culture SL paper 2"
      ],
      "2025-04-29": [
        "Language A Literature HL/SL paper 2",
        "Language A Language & Literature HL/SL paper 2",
        "Physics HL paper 1 (1a&1b)",
        "Physics SL paper 1 (1a&1b)",
        "Sports, exercise & health science HL paper 1",
        "Sports, exercise & health science HL paper 3",
        "Sports, exercise & health science SL paper 1",
        "Sports, exercise & health science SL paper 3"
      ],
      "2025-04-30": [
        "Physics HL paper 2",
        "Physics SL paper 2",
        "Sports, exercise & health science HL paper 2",
        "Sports, exercise & health science SL paper 2",
        "Business management HL/SL paper 1",
        "Business management HL paper 3"
      ],
      "2025-05-01": [],
      "2025-05-02": [
        "Business management HL paper 2",
        "Business management SL paper 2",
        "Computer science HL paper 1",
        "Computer science SL paper 1",
        "Environmental systems & societies SL paper 1"
      ],
      "2025-05-05": [
        "Computer science HL paper 2",
        "Computer science HL paper 3",
        "Computer science SL paper 2",
        "History HL/SL paper 1",
        "History HL/SL paper 2",
        "Environmental systems & societies SL paper 2"
      ],
      "2025-05-06": [
        "History HL paper 3",
        "Language B HL paper 1",
        "Language B HL paper 2 (reading)",
        "Language B SL paper 1",
        "Language B SL paper 2 (reading)",
        "Language ab initio SL paper 1",
        "Language ab initio SL paper 2",
        "Latin HL paper 1",
        "Latin SL paper 1"
      ],
      "2025-05-07": [
        "Language B HL paper 2 (listening)",
        "Language B SL paper 2 (listening)",
        "Language ab initio SL paper 2 (listening)",
        "Latin HL paper 2",
        "Latin SL paper 2",
        "Psychology HL paper 1",
        "Psychology SL paper 1"
      ],
      "2025-05-08": [
        "Psychology HL paper 2",
        "Psychology HL paper 3",
        "Psychology SL paper 2",
        "English A Literature HL paper 1",
        "English A Literature SL paper 1",
        "English A Language & Literature HL paper 1",
        "English A Language & Literature SL paper 1",
        "English B HL paper 1",
        "English B HL paper 2 (reading)",
        "English B SL paper 1",
        "English B SL paper 2 (reading)",
        "English ab initio SL paper 1",
        "English ab initio SL paper 2"
      ],
      "2025-05-09": [
        "English A Literature HL/SL paper 2",
        "English A Language & Literature HL/SL paper 2",
        "English B HL paper 2 (listening)",
        "English B SL paper 2 (listening)",
        "English ab initio SL paper 2 (listening)",
        "Geography HL paper 1",
        "Geography SL paper 1",
        "Philosophy HL paper 1",
        "Philosophy SL paper 1",
        "Social & cultural anthropology HL paper 1",
        "Social & cultural anthropology SL paper 1",
        "Literature & performance SL paper 1"
      ],
      "2025-05-12": [
        "Geography HL/SL paper 2",
        "Geography HL paper 3",
        "Philosophy HL/SL paper 2",
        "Philosophy HL paper 3",
        "Social & cultural anthropology HL paper 2",
        "Social & cultural anthropology SL paper 2",
        "Biology HL paper 1 (1a&1b)",
        "Biology SL paper 1 (1a&1b)"
      ],
      "2025-05-13": [
        "Biology HL paper 2",
        "Biology SL paper 2",
        "Economics HL/SL paper 2",
        "World religions SL paper 1"
      ],
      "2025-05-14": [
        "Economics HL paper 1",
        "Economics HL paper 3",
        "Economics SL paper 1",
        "World religions SL paper 2",
        "Classical Greek HL paper 1",
        "Classical Greek SL paper 1",
        "Spanish A Literature HL paper 1",
        "Spanish A Literature SL paper 1",
        "Spanish A Language & Literature HL paper 1",
        "Spanish A Language & Literature SL paper 1",
        "Spanish B HL paper 1",
        "Spanish B HL paper 2 (reading)",
        "Spanish B SL paper 1",
        "Spanish B SL paper 2 (reading)",
        "Spanish ab initio SL paper 1",
        "Spanish ab initio SL paper 2",
        "Mathematics AA HL paper 1",
        "Mathematics AA SL paper 1",
        "Mathematics AI HL paper 1",
        "Mathematics AI SL paper 1"
      ],
      "2025-05-15": [
        "Classical Greek HL paper 2",
        "Classical Greek SL paper 2",
        "Spanish A Literature HL/SL paper 2",
        "Spanish A Language & Literature HL/SL paper 2",
        "Spanish B HL paper 2 (listening)",
        "Spanish B SL paper 2 (listening)",
        "Spanish ab initio SL paper 2 (listening)",
        "Chemistry HL paper 1 (1a&1b)",
        "Chemistry SL paper 1 (1a&1b)",
        "Design technology HL paper 1",
        "Design technology SL paper 1",
        "Design technology HL/SL paper 2"
      ],
      "2025-05-16": [
        "Chemistry HL paper 2",
        "Chemistry SL paper 2",
        "Design technology HL paper 3",
        "Digital society HL paper 1",
        "Digital society SL paper 1",
        "Global politics HL/SL paper 1"
      ],
      "2025-05-19": [
        "Digital society HL/SL paper 2",
        "Digital society HL paper 3",
        "Global politics HL paper 2",
        "Global politics SL paper 2",
        "French A Literature HL paper 1",
        "French A Literature SL paper 1",
        "French A Language & Literature HL paper 1",
        "French A Language & Literature SL paper 1",
        "French B HL paper 1",
        "French B HL paper 2 (reading)",
        "French B SL paper 1",
        "French B SL paper 2 (reading)",
        "French ab initio SL paper 1",
        "French ab initio SL paper 2"
      ],
      "2025-05-20": [
        "French A Literature HL/SL paper 2",
        "French A Language & Literature HL/SL paper 2",
        "French B HL paper 2 (listening)",
        "French B SL paper 2 (listening)",
        "French ab initio SL paper 2 (listening)",
        "Mathematics AA HL paper 2",
        "Mathematics AA SL paper 2",
        "Mathematics AI HL paper 2",
        "Mathematics AI SL paper 2"
      ],
      "2025-05-21": [
        "Mathematics AA HL paper 3",
        "Mathematics AI HL paper 3"
      ]
    };

    function rebuildContainer(container, str) {
      container.innerHTML = '';
      for (let ch of str) {
        let box = document.createElement('div');
        box.className = 'box';
        box.textContent = ch;
        box.setAttribute('data-digit', ch);
        container.appendChild(box);
      }
    }

    function updateUnit(id, val) {
      const cont = document.getElementById(id);
      const s = String(val).padStart(2,'0');
      if (cont.children.length !== s.length) {
        rebuildContainer(cont, s);
        return;
      }
      for (let i = 0; i < s.length; i++) {
        const box = cont.children[i];
        if (box.getAttribute('data-digit') !== s[i]) {
          box.classList.add('flip');
          setTimeout(() => {
            box.textContent = s[i];
            box.setAttribute('data-digit', s[i]);
          }, 300);
          setTimeout(() => box.classList.remove('flip'), 600);
        }
      }
    }

    function initCountdown() {
      const now = Date.now(),
            diff = countDownDate - now;
      const days  = Math.floor(diff / 86400000),
            hours = Math.floor((diff % 86400000) / 3600000),
            mins  = Math.floor((diff % 3600000) / 60000),
            secs  = Math.floor((diff % 60000) / 1000);

      rebuildContainer(document.getElementById('days-digits'),  String(days).padStart(2,'0'));
      rebuildContainer(document.getElementById('hours-digits'), String(hours).padStart(2,'0'));
      rebuildContainer(document.getElementById('minutes-digits'),String(mins).padStart(2,'0'));
      rebuildContainer(document.getElementById('seconds-digits'),String(secs).padStart(2,'0'));

      return {days,hours,minutes:mins,seconds:secs};
    }

    function updateExam() {
      const today = new Date().toISOString().slice(0,10);
      const exams = examSchedule[today] || [];
      const container = document.getElementById('exam-name');
      container.innerHTML = '';

      if (exams.length === 0) {
        container.textContent = 'No examination';
        container.className = 'box';
      } else if (exams.length === 1) {
        container.textContent = exams[0];
        container.className = 'box';
      } else {
        container.className = '';
        const ul = document.createElement('ul');
        exams.forEach(e => {
          const li = document.createElement('li');
          li.textContent = e;
          ul.appendChild(li);
        });
        container.appendChild(ul);
      }
    }

    let last = initCountdown();
    updateExam();

    function loop() {
      const now = Date.now(),
            diff = countDownDate - now;

      if (diff < 0) {
        document.querySelector('.timer').innerHTML =
          "<div class='time-section'><div class='box'>Examinations ended!!! ðŸ¥³ðŸ¥³ðŸ¥³</div></div>";
        document.getElementById('exam-name').innerHTML = '';
        return;
      }

      const days  = Math.floor(diff / 86400000),
            hours = Math.floor((diff % 86400000) / 3600000),
            mins  = Math.floor((diff % 3600000) / 60000),
            secs  = Math.floor((diff % 60000) / 1000);

      if (days   !== last.days)    updateUnit('days-digits', days);
      if (hours  !== last.hours)   updateUnit('hours-digits', hours);
      if (mins   !== last.minutes) updateUnit('minutes-digits', mins);
      if (secs   !== last.seconds) updateUnit('seconds-digits', secs);

      // on midnight rollover, refresh exam list
      const newDay = new Date().toISOString().slice(0,10);
      if (newDay !== (new Date(Date.now() - secs*1000)).toISOString().slice(0,10)) {
        updateExam();
      }

      last = {days,hours,minutes:mins,seconds:secs};
      requestAnimationFrame(loop);
    }

    requestAnimationFrame(loop);
  </script>
</body>
</html>
